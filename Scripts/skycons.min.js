!function ($) { "use strict"; n = $.requestAnimationFrame || $.webkitRequestAnimationFrame || $.mozRequestAnimationFrame || $.oRequestAnimationFrame || $.msRequestAnimationFrame, i = $.cancelAnimationFrame || $.webkitCancelAnimationFrame || $.mozCancelAnimationFrame || $.oCancelAnimationFrame || $.msCancelAnimationFrame, n && i ? (t = function ($) { var i = { value: null }; return function t() { i.value = n(t), $() }(), i }, e = function ($) { i($.value) }) : (t = setInterval, e = clearInterval); var n, i, t, e, _ = 2 * Math.PI, o = 2 / Math.sqrt(2); function a($, n, i, t, e) { $.beginPath(), $.moveTo(n, i), $.lineTo(t, e), $.stroke() } function r($, n, i, t, e, o, a, r) { var l, s, c, h, u = Math.cos(n * _); r -= a, l = $, s = i - Math.sin(n * _) * e, c = t + u * o + .5 * r, h = a + (1 - .5 * u) * r, l.beginPath(), l.arc(s, c, h, 0, _, !1), l.fill() } function l($, n, i, t, e, _, o, a) { var l; for (l = 5; l--;)r($, n + l / 5, i, t, e, _, o, a) } function s($, n, i, t, e, _, o) { n /= 3e4; var a = .21 * e, r = .12 * e, s = .24 * e, c = .28 * e; $.fillStyle = o, l($, n, i, t, a, r, s, c), $.globalCompositeOperation = "destination-out", l($, n, i, t, a, r, s - _, c - _), $.globalCompositeOperation = "source-over" } function c($, n, i, t, e, o, r) { n /= 12e4; var l, s, c, h, u = .32 * e + .5 * o, f = .5 * e - .5 * o; for ($.strokeStyle = r, $.lineWidth = o, $.lineCap = "round", $.lineJoin = "round", $.beginPath(), $.arc(i, t, .25 * e - .5 * o, 0, _, !1), $.stroke(), l = 8; l--;)a($, i + (c = Math.cos(s = (n + l / 8) * _)) * u, t + (h = Math.sin(s)) * u, i + c * f, t + h * f) } function h($, n, i, t, e, a, r) { var l = .29 * e - .5 * a, s = Math.cos((n /= 15e3) * _), c = -(s * _ / 16); $.strokeStyle = r, $.lineWidth = a, $.lineCap = "round", $.lineJoin = "round", i += s * (.05 * e), $.beginPath(), $.arc(i, t, l, c + _ / 8, c + 7 * _ / 8, !1), $.arc(i + Math.cos(c) * l * o, t + Math.sin(c) * l * o, l, c + 5 * _ / 8, c + 3 * _ / 8, !0), $.closePath(), $.stroke() } var u = [[-.75, -.18, -.7219, -.1527, -.6971, -.1225, -.6739, -.091, -.6516, -.0588, -.6298, -.0262, -.6083, .0065, -.5868, .0396, -.5643, .0731, -.5372, .1041, -.5033, .1259, -.4662, .1406, -.4275, .1493, -.3881, .153, -.3487, .1526, -.3095, .1488, -.2708, .1421, -.2319, .1342, -.1943, .1217, -.16, .1025, -.129, .0785, -.1012, .0509, -.0764, .0206, -.0547, -.012, -.0378, -.0472, -.0324, -.0857, -.0389, -.1241, -.0546, -.1599, -.0814, -.1876, -.1193, -.1964, -.1582, -.1935, -.1931, -.1769, -.2157, -.1453, -.229, -.1085, -.2327, -.0697, -.224, -.0317, -.2064, .0033, -.1853, .0362, -.1613, .0672, -.135, .0961, -.1051, .1213, -.0706, .1397, -.0332, .1512, .0053, .158, .0442, .1624, .0833, .1636, .1224, .1615, .1613, .1565, .1999, .15, .2378, .1402, .2749, .1279, .3118, .1147, .3487, .1015, .3858, .0892, .4236, .0787, .4621, .0715, .5012, .0702, .5398, .0766, .5768, .089, .6123, .1055, .6466, .1244, .6805, .144, .7147, .163, .75, .18], [-.75, 0, -.7033, .0195, -.6569, .0399, -.6104, .06, -.5634, .0789, -.5155, .0954, -.4667, .1089, -.4174, .1206, -.3676, .1299, -.3174, .1365, -.2669, .1398, -.2162, .1391, -.1658, .1347, -.1157, .1271, -.0661, .1169, -.017, .1046, .0316, .0903, .0791, .0728, .1259, .0534, .1723, .0331, .2188, .0129, .2656, -.0064, .3122, -.0263, .3586, -.0466, .4052, -.0665, .4525, -.0847, .5007, -.1002, .5497, -.113, .5991, -.124, .6491, -.1325, .6994, -.138, .75, -.14]], f = [{ start: .36, end: .11 }, { start: .56, end: .16 }]; function v($, n, i, t, e, o, a, r, l) { n /= 2500; var s, c, h, v, d, m, g, p, C, w, y, b, k, A, P, T, F, S = u[a], I = (n + a - f[a].start) % r, O = (n + a - f[a].end) % r, R = (n + a) % r; if ($.strokeStyle = l, $.lineWidth = o, $.lineCap = "round", $.lineJoin = "round", I < 1) { if ($.beginPath(), I *= S.length / 2 - 1, A = Math.floor(I), I -= A, A *= 2, A += 2, $.moveTo(i + (S[A - 2] * (1 - I) + S[A] * I) * e, t + (S[A - 1] * (1 - I) + S[A + 1] * I) * e), O < 1) { for (O *= S.length / 2 - 1, P = Math.floor(O), O -= P, P *= 2, P += 2, F = A; F !== P; F += 2)$.lineTo(i + S[F] * e, t + S[F + 1] * e); $.lineTo(i + (S[P - 2] * (1 - O) + S[P] * O) * e, t + (S[P - 1] * (1 - O) + S[P + 1] * O) * e) } else for (F = A; F !== S.length; F += 2)$.lineTo(i + S[F] * e, t + S[F + 1] * e); $.stroke() } else if (O < 1) { for ($.beginPath(), O *= S.length / 2 - 1, P = Math.floor(O), O -= P, P *= 2, P += 2, $.moveTo(i + S[0] * e, t + S[1] * e), F = 2; F !== P; F += 2)$.lineTo(i + S[F] * e, t + S[F + 1] * e); $.lineTo(i + (S[P - 2] * (1 - O) + S[P] * O) * e, t + (S[P - 1] * (1 - O) + S[P + 1] * O) * e), $.stroke() } R < 1 && (R *= S.length / 2 - 1, T = Math.floor(R), R -= T, T *= 2, T += 2, s = $, c = n, h = i + (S[T - 2] * (1 - R) + S[T] * R) * e, v = t + (S[T - 1] * (1 - R) + S[T + 1] * R) * e, d = e, m = o, g = l, w = 2 * (C = (p = d / 8) / 3), b = Math.cos(y = c % 1 * _), k = Math.sin(y), s.fillStyle = g, s.strokeStyle = g, s.lineWidth = m, s.lineCap = "round", s.lineJoin = "round", s.beginPath(), s.arc(h, v, p, y, y + Math.PI, !1), s.arc(h - C * b, v - C * k, w, y + Math.PI, y, !1), s.arc(h + w * b, v + w * k, C, y + Math.PI, y, !0), s.globalCompositeOperation = "destination-out", s.fill(), s.globalCompositeOperation = "source-over", s.stroke()) } var d = function ($) { this.list = [], this.interval = null, this.color = $ && $.color ? $.color : "black", this.resizeClear = !!($ && $.resizeClear) }; d.CLEAR_DAY = function ($, n, i) { var t = $.canvas.width, e = $.canvas.height, _ = Math.min(t, e); c($, n, .5 * t, .5 * e, _, .08 * _, i) }, d.CLEAR_NIGHT = function ($, n, i) { var t = $.canvas.width, e = $.canvas.height, _ = Math.min(t, e); h($, n, .5 * t, .5 * e, _, .08 * _, i) }, d.PARTLY_CLOUDY_DAY = function ($, n, i) { var t = $.canvas.width, e = $.canvas.height, _ = Math.min(t, e); c($, n, .625 * t, .375 * e, .75 * _, .08 * _, i), s($, n, .375 * t, .625 * e, .75 * _, .08 * _, i) }, d.PARTLY_CLOUDY_NIGHT = function ($, n, i) { var t = $.canvas.width, e = $.canvas.height, _ = Math.min(t, e); h($, n, .667 * t, .375 * e, .75 * _, .08 * _, i), s($, n, .375 * t, .625 * e, .75 * _, .08 * _, i) }, d.CLOUDY = function ($, n, i) { var t = $.canvas.width, e = $.canvas.height, _ = Math.min(t, e); s($, n, .5 * t, .5 * e, _, .08 * _, i) }, d.RAIN = function ($, n, i) { var t = $.canvas.width, e = $.canvas.height, o = Math.min(t, e); (function $(n, i, t, e, o, a, r) { i /= 1350; var l, s, c, h, u = .16 * o, f = 11 * _ / 12, v = 7 * _ / 12; for (l = 4, n.fillStyle = r; l--;)s = (i + l / 4) % 1, c = t + (l - 1.5) / 1.5 * (1 === l || 2 === l ? -1 : 1) * u, h = e + s * s * o, n.beginPath(), n.moveTo(c, h - 1.5 * a), n.arc(c, h, .75 * a, f, v, !1), n.fill() })($, n, .5 * t, .37 * e, .9 * o, .08 * o, i), s($, n, .5 * t, .37 * e, .9 * o, .08 * o, i) }, d.SLEET = function ($, n, i) { var t = $.canvas.width, e = $.canvas.height, _ = Math.min(t, e); (function $(n, i, t, e, _, o, r) { i /= 750; var l, s, c, h, u = .1875 * _; for (l = 4, n.strokeStyle = r, n.lineWidth = .5 * o, n.lineCap = "round", n.lineJoin = "round"; l--;)s = (i + l / 4) % 1, a(n, c = Math.floor(t + (l - 1.5) / 1.5 * (1 === l || 2 === l ? -1 : 1) * u) + .5, (h = e + s * _) - 1.5 * o, c, h + 1.5 * o) })($, n, .5 * t, .37 * e, .9 * _, .08 * _, i), s($, n, .5 * t, .37 * e, .9 * _, .08 * _, i) }, d.SNOW = function ($, n, i) { var t = $.canvas.width, e = $.canvas.height, o = Math.min(t, e); (function $(n, i, t, e, o, r, l) { var s, c, h, u, f = .16 * o, v = .75 * r, d = (i /= 3e3) * _ * .7, m = Math.cos(d) * v, g = Math.sin(d) * v, p = d + _ / 3, C = Math.cos(p) * v, w = Math.sin(p) * v, y = d + 2 * _ / 3, b = Math.cos(y) * v, k = Math.sin(y) * v; for (s = 4, n.strokeStyle = l, n.lineWidth = .5 * r, n.lineCap = "round", n.lineJoin = "round"; s--;)a(n, (h = t + Math.sin(((c = (i + s / 4) % 1) + s / 4) * _) * f) - m, (u = e + c * o) - g, h + m, u + g), a(n, h - C, u - w, h + C, u + w), a(n, h - b, u - k, h + b, u + k) })($, n, .5 * t, .37 * e, .9 * o, .08 * o, i), s($, n, .5 * t, .37 * e, .9 * o, .08 * o, i) }, d.WIND = function ($, n, i) { var t = $.canvas.width, e = $.canvas.height, _ = Math.min(t, e); v($, n, .5 * t, .5 * e, _, .08 * _, 0, 2, i), v($, n, .5 * t, .5 * e, _, .08 * _, 1, 2, i) }, d.FOG = function ($, n, i) { var t, e, o, r, s, c, h, u, f, v, d, m = $.canvas.width, g = $.canvas.height, p = Math.min(m, g), C = .08 * p; t = $, e = n, o = .5 * m, r = .32 * g, s = .75 * p, c = C, h = i, e /= 3e4, u = .21 * s, f = .06 * s, v = .21 * s, d = .28 * s, t.fillStyle = h, l(t, e, o, r, u, f, v, d), t.globalCompositeOperation = "destination-out", l(t, e, o, r, u, f, v - c, d - c), t.globalCompositeOperation = "source-over"; var w = Math.cos((n /= 5e3) * _) * p * .02, y = Math.cos((n + .25) * _) * p * .02, b = Math.cos((n + .5) * _) * p * .02, k = Math.cos((n + .75) * _) * p * .02, A = .936 * g, P = Math.floor(A - .5 * C) + .5, T = Math.floor(A - 2.5 * C) + .5; $.strokeStyle = i, $.lineWidth = C, $.lineCap = "round", $.lineJoin = "round", a($, w + .2 * m + .5 * C, P, y + .8 * m - .5 * C, P), a($, b + .2 * m + .5 * C, T, k + .8 * m - .5 * C, T) }, d.prototype = { _determineDrawingFunction: function ($) { return "string" == typeof $ && ($ = d[$.toUpperCase().replace(/-/g, "_")] || null), $ }, add: function ($, n) { var i; "string" == typeof $ && ($ = document.getElementById($)), null != $ && "function" == typeof (n = this._determineDrawingFunction(n)) && (i = { element: $, context: $.getContext("2d"), drawing: n }, this.list.push(i), this.draw(i, 500)) }, set: function ($, n) { var i; for ("string" == typeof $ && ($ = document.getElementById($)), i = this.list.length; i--;)if (this.list[i].element === $) { this.list[i].drawing = this._determineDrawingFunction(n), this.draw(this.list[i], 500); return } this.add($, n) }, remove: function ($) { var n; for ("string" == typeof $ && ($ = document.getElementById($)), n = this.list.length; n--;)if (this.list[n].element === $) { this.list.splice(n, 1); return } }, draw: function ($, n) { var i = $.context.canvas; this.resizeClear ? i.width = i.width : $.context.clearRect(0, 0, i.width, i.height), $.drawing($.context, n, this.color) }, play: function () { var $ = this; this.pause(), this.interval = t(function () { var n, i = Date.now(); for (n = $.list.length; n--;)$.draw($.list[n], i) }, 1e3 / 60) }, pause: function () { this.interval && (e(this.interval), this.interval = null) } }, $.Skycons = d }(this);